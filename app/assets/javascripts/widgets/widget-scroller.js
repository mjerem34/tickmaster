!function(e,r){"use strict";var l=e.tablesorter,o=l.css;e.extend(l.css,{scrollerWrap:"tablesorter-scroller",scrollerHeader:"tablesorter-scroller-header",scrollerTable:"tablesorter-scroller-table",scrollerFooter:"tablesorter-scroller-footer",scrollerFixed:"tablesorter-scroller-fixed",scrollerFixedPanel:"tablesorter-scroller-fixed-panel",scrollerHasFix:"tablesorter-scroller-has-fixed-columns",scrollerHideColumn:"tablesorter-scroller-hidden-column",scrollerHideElement:"tablesorter-scroller-hidden",scrollerSpacerRow:"tablesorter-scroller-spacer",scrollerBarSpacer:"tablesorter-scroller-bar-spacer",scrollerAddedHeight:"tablesorter-scroller-added-height",scrollerHack:"tablesorter-scroller-scrollbar-hack",scrollerRtl:"ts-scroller-rtl"}),l.addWidget({id:"scroller",priority:60,options:{scroller_height:300,scroller_jumpToHeader:!0,scroller_upAfterSort:!0,scroller_fixedColumns:0,scroller_rowHighlight:"hover",scroller_addFixedOverlay:!1,scroller_barWidth:null},format:function(e,r,o){r.isScrolling||l.scroller.setup(r,o)},remove:function(e,r,o){l.scroller.remove(r,o)}}),l.window_resize=function(){l.timer_resize&&clearTimeout(l.timer_resize),l.timer_resize=setTimeout(function(){e(r).trigger("resizeEnd")},250)},e(function(){var r="<style>."+o.scrollerWrap+" { position: relative; overflow: hidden; }."+o.scrollerWrap+" * { box-sizing: border-box; }."+o.scrollerHeader+", ."+o.scrollerFooter+" { position: relative; overflow: hidden; }."+o.scrollerHeader+" table."+o.table+" { margin-bottom: 0; }."+o.scrollerTable+" { position: relative; overflow: auto; }."+o.scrollerTable+" table."+o.table+" { border-top: 0; margin-top: 0; margin-bottom: 0; overflow: hidden; }."+o.scrollerTable+" tfoot, ."+o.scrollerHideElement+", ."+o.scrollerHideColumn+" { display: none; }."+o.scrollerFixed+", ."+o.scrollerFixed+" ."+o.scrollerFixedPanel+" { pointer-events: none; }."+o.scrollerFixed+" > div { pointer-events: all; }."+o.scrollerWrap+" ."+o.scrollerFixed+" { position: absolute; top: 0; z-index: 1; left: 0 } ."+o.scrollerWrap+" ."+o.scrollerFixed+"."+o.scrollerRtl+" { left: auto; right: 0 } ."+o.scrollerWrap+"."+o.scrollerHasFix+" > ."+o.scrollerTable+" { overflow: auto; }."+o.scrollerFixed+" ."+o.scrollerFooter+" { position: absolute; bottom: 0; }."+o.scrollerFixed+" ."+o.scrollerTable+" { position: relative; left: 0; overflow: auto; -ms-overflow-style: none; }."+o.scrollerFixed+" ."+o.scrollerTable+"::-webkit-scrollbar { display: none; }."+o.scrollerWrap+" ."+o.scrollerFixedPanel+" { position: absolute; top: 0; bottom: 0; z-index: 2; left: 0; right: 0; } </style>";e(r).appendTo("body")}),l.scroller={isFirefox:navigator.userAgent.toLowerCase().indexOf("firefox")>-1,isOldIE:document.all&&!r.atob,isIE:document.all&&!r.atob||navigator.appVersion.indexOf("Trident/")>0,isSafari:navigator.userAgent.toLowerCase().indexOf("safari")>-1&&-1===navigator.userAgent.toLowerCase().indexOf("chrome"),hasScrollBar:function(e,r){return r?e.get(0).scrollWidth>e.width():e.get(0).scrollHeight>e.height()},setWidth:function(e,r){e.css({width:r,"min-width":r,"max-width":r})},getBarWidth:function(){var r=e("<div>").css({position:"absolute",top:"-9999px",left:0,width:"100px",height:"100px",overflow:"scroll",visibility:"hidden"}).appendTo("body"),l=r[0],o=l.offsetWidth-l.clientWidth;return r.remove(),o},setup:function(s,t){var i,d,a,c,n,h,f,p,b,u=e(r),m=l.scroller,g=s.namespace+"tsscroller",x=e(),v=s.namespace.slice(1)+"tsscroller",_=s.$table;s.widthFixed=!0,t.scroller_calcWidths=[],t.scroller_saved=[0,0],t.scroller_isBusy=!0,null!==t.scroller_barWidth?t.scroller_barSetWidth=t.scroller_barWidth:(b=m.getBarWidth(),t.scroller_barSetWidth=null!==b?b:15),i=t.scroller_height||300,a=e('<table class="'+_.attr("class")+'" cellpadding=0 cellspacing=0>'+_.children("thead")[0].outerHTML+"</table>"),t.scroller_$header=a.addClass(s.namespace.slice(1)+"_extra_table"),c=_.children("tfoot"),c.length&&(x=e('<table class="'+_.attr("class")+'" cellpadding=0 cellspacing=0 style="margin-top:0"></table>').addClass(s.namespace.slice(1)+"_extra_table").append(c.clone(!0)).wrap('<div class="'+o.scrollerFooter+'"/>'),h=x.children("tfoot").eq(0).children("tr").children()),t.scroller_$footer=x,_.wrap('<div id="'+v+'" class="'+o.scrollerWrap+'" />').before(a).find("."+o.filterRow).addClass(o.filterRowHide),t.scroller_$container=_.parent(),x.length&&_.after(x.parent()),n=a.wrap('<div class="'+o.scrollerHeader+'" />').find("."+o.header),_.wrap('<div class="'+o.scrollerTable+'" style="max-height:'+i+'px;" />'),f=_.parent(),l.bindEvents(s.table,n),_.hasClass("hasFilters")&&l.filter.bindSearch(_,a.find("."+o.filter)),_.find("thead").addClass(o.scrollerHideElement),d=f.parent().height(),f.off("scroll"+g).on("scroll"+g,function(){if(t.scroller_jumpToHeader){var r=u.scrollTop()-a.offset().top;0!==e(this).scrollTop()&&d>r&&r>0&&u.scrollTop(a.offset().top)}a.parent().add(x.parent()).scrollLeft(e(this).scrollLeft())}),p=((l.hasWidget(s.table,"filter")?"filterEnd":"tablesorter-initialized updateComplete")+" sortEnd pagerComplete columnUpdate ").split(" ").join(g+" "),_.off(g).on("sortEnd filterEnd".split(" ").join(g+" "),function(e){"sortEnd"===e.type&&t.scroller_upAfterSort?f.animate({scrollTop:0},"fast"):t.scroller_fixedColumns&&setTimeout(function(){f.scrollTop(t.scroller_saved[1]).scrollLeft(t.scroller_saved[0]),m.updateFixed(s,t)},0)}).on("setFixedColumnSize"+g,function(e,r){var l=t.scroller_$container;"undefined"==typeof r||isNaN(r)||(t.scroller_fixedColumns=parseInt(r,10)),m.removeFixed(s,t),r=t.scroller_fixedColumns,r>0&&r<s.columns-1?m.updateFixed(s,t):l.hasClass(o.scrollerHasFix)&&(l.removeClass(o.scrollerHasFix),m.resize(s,t))}).on(p,function(e){l.hasWidget("pager")&&"updateComplete"===e.type||(t.scroller_fixedColumns>0&&m.updateFixed(s,t),m.resize(s,t))}),u.off("resize resizeEnd ".split(" ").join(g+" ")).on("resize"+g,l.window_resize).on("resizeEnd"+g,function(){u.off("resize"+g,l.window_resize),m.resize(s,t),u.on("resize"+g,l.window_resize),f.trigger("scroll"+g)}),s.isScrolling=!0,m.updateFixed(s,t),s.table.hasInitialized&&s.isScrolling&&setTimeout(function(){l.scroller.resize(s,t)},50)},resize:function(s,t){if(!t.scroller_isBusy){var i,d,a,c,n,h,f=l.scroller,p=t.scroller_$container,b=s.$table,u=b.parent(),m=t.scroller_$header,g=t.scroller_$footer,x=s.namespace.slice(1)+"tsscroller",v=e("div."+o.scrollerWrap+'[id!="'+x+'"]').addClass(o.scrollerHideElement),_='<tr class="'+o.scrollerSpacerRow+" "+s.selectorRemove.slice(1)+'">';for(t.scroller_calcWidths=[],f.removeFixed(s,t),p.find("."+o.scrollerSpacerRow).remove(),p.find("."+l.css.colgroup).remove(),b.find("."+o.scrollerHideElement).removeClass(o.scrollerHideElement),d=parseInt(b.css("border-left-width"),10),c=s.$headerIndexed,i=0;i<s.columns;i++)n=c[i],a="border-box"===n.css("box-sizing")?n.outerWidth():"collapse"===n.css("border-collapse")?n.length&&r.getComputedStyle?parseFloat(r.getComputedStyle(n[0],null).width):n.outerWidth()-parseFloat(n.css("padding-left"))-parseFloat(n.css("padding-right"))-(parseFloat(n.css("border-width"))||0):n.width(),_+='<td data-column="'+i+'" style="padding:0;margin:0;border:0;height:0;max-height:0;min-height:0;width:'+a+"px;min-width:"+a+"px;max-width:"+a+'px"></td>',t.scroller_calcWidths[i]=a;_+="</tr>",s.$tbodies.eq(0).prepend(_),m.children("thead").append(_),g.children("tfoot").append(_),l.fixColumnWidth(s.table),_=s.$table.children("colgroup")[0].outerHTML,m.prepend(_),g.prepend(_),h=u.parent().innerWidth()-(f.hasScrollBar(u)?t.scroller_barSetWidth:0),u.width(h),h=(f.hasScrollBar(u)?t.scroller_barSetWidth:0)+d,a=u.innerWidth()-h,m.parent().add(g.parent()).width(a),u.width(a+h),b.children("thead").addClass(o.scrollerHideElement),f.updateFixed(s,t),v.removeClass(o.scrollerHideElement),u.scrollTop(t.scroller_saved[1]),t.scroller_$container.find("."+o.scrollerFixed).find("."+o.scrollerTable).scrollTop(t.scroller_saved[1]),setTimeout(function(){s.$table.triggerHandler("resizableUpdate")},100)}},setupFixed:function(e,r){var s,t,i,d,a,c,n,h=e.$table,f=r.scroller_$container,p=r.scroller_fixedColumns;for(c=f.addClass(o.scrollerHasFix).clone().addClass(o.scrollerFixed).removeClass(o.scrollerWrap).attr("id",""),r.scroller_addFixedOverlay&&c.append('<div class="'+o.scrollerFixedPanel+'">'),n=c.find("."+o.scrollerTable),n.children("table").addClass(e.namespace.slice(1)+"_extra_table").attr("id","").children("thead, tfoot").remove(),r.scroller_$fixedColumns=c,h.hasClass(o.scrollerRtl)&&c.addClass(o.scrollerRtl),i=c.find("tr"),d=i.length,s=0;d>s;s++)i.eq(s).children(":gt("+(p-1)+")").remove();if(c.addClass(o.scrollerHideElement).prependTo(f),e.$table.hasClass("hasFilters"))for(i=c.find("."+o.filter).not("."+o.filterDisabled).prop("disabled",!1),l.filter.bindSearch(h,c.find("."+o.filter)),i=f.children("."+o.scrollerHeader).find("."+o.filter),d=i.length,s=0;d>s;s++)i.eq(s).hasClass(o.filterDisabled||"disabled")||i.eq(s).prop("disabled",p>s);for(e.$table.add("."+o.scrollerFooter+" table").children("thead").children("tr."+o.headerRow).children().attr("tabindex",-1),i=r.scroller_$header.add(c.find("."+o.scrollerTable+" table")).children("thead").children("tr."+o.headerRow),d=i.length,s=0;d>s;s++)for(a=i.eq(s).children(),t=0;t<a.length;t++)a.eq(t).attr("tabindex",p>t?-1:0);l.bindEvents(e.table,c.find("."+o.header)),l.scroller.bindFixedColumnEvents(e,r),(l.scroller.isFirefox||l.scroller.isOldIE)&&n.wrap('<div class="'+o.scrollerHack+'" style="overflow:hidden;">')},bindFixedColumnEvents:function(r,s){var t=l.scroller,i=r.namespace+"tsscrollerFixed",d="scroll"+i,a=s.scroller_$fixedColumns.find("."+o.scrollerTable),c=!0,n=!0;r.$table.parent().off(d).on(d,function(){if(!s.scroller_isBusy&&!s.scroller_isBusy&&(c||!t.isFirefox&&!t.isIE)){n=!1;var r=e(this);a[0].scrollTop=s.scroller_saved[1]=r.scrollTop(),s.scroller_saved[0]=r.scrollLeft(),setTimeout(function(){n=!0},20)}}),a.off(d).on(d,function(){if(!s.scroller_isBusy&&(n||!t.isFirefox&&!t.isIE)){c=!1;var l=e(this);r.$table.parent()[0].scrollTop=s.scroller_saved[1]=l.scrollTop(),setTimeout(function(){c=!0},20)}}).scroll(),""!==s.scroller_rowHighlight&&(d="mouseover mouseleave ".split(" ").join(i+" "),r.$table.off(d,"tbody > tr").on(d,"tbody > tr",function(e){var l=r.$table.children("tbody").children("tr").index(this);a.children("table").children("tbody").children("tr").eq(l).add(this).toggleClass(s.scroller_rowHighlight,"mouseover"===e.type)}),a.find("table").off(d,"tbody > tr").on(d,"tbody > tr",function(e){var l=a.children("table").children("tbody").children("tr"),o=l.index(this);r.$table.children("tbody").children("tr").eq(o).add(this).toggleClass(s.scroller_rowHighlight,"mouseover"===e.type)}))},adjustWidth:function(e,r,s,t,i){var d=r.scroller_$container;d.children("."+o.scrollerTable).css(i?"right":"left",s),d.children("."+o.scrollerHeader+", ."+o.scrollerFooter).css(i?"right":"left",s+(i&&l.scroller.isSafari?t:0))},updateFixed:function(r,s){var t,i,d=s.scroller_$container,a=s.scroller_$header,c=s.scroller_$footer,n=r.$table,h=n.parent(),f=s.scroller_barSetWidth,p=n.hasClass(o.scrollerRtl);if(0===s.scroller_fixedColumns)return s.scroller_isBusy=!1,l.scroller.removeFixed(r,s),t=d.width(),h.width(t),i=l.scroller.hasScrollBar(h)?f:0,void a.parent().add(c.parent()).width(t-i);if(r.isScrolling){s.scroller_isBusy=!0,d.find("."+o.scrollerFixed).length||l.scroller.setupFixed(r,s);var b,u,m,g,x,v,_,w=s.scroller_$container.children("."+o.scrollerTable).children("table").children("tbody"),C=s.scroller_$header.children("thead").children("."+o.headerRow),F=s.scroller_$fixedColumns.addClass(o.scrollerHideElement),H=F.find("."+o.scrollerTable).children("table"),y=H.children("tbody"),T=l.scroller,$=s.scroller_fixedColumns,W=n.find("tbody td"),E=parseInt(W.css("border-right-width"),10)||1,S=parseInt((W.css("border-spacing")||"").split(/\s/)[0],10)/2||0,z=parseInt(n.css("padding-left"),10)+parseInt(n.css("padding-right"),10)-E,B=s.scroller_calcWidths;for(l.scroller.removeFixed(r,s,!1),b=0;$>b;b++)z+=B[b]+S;for(z=z+2*E-S,T.setWidth(F.add(F.children()),z),T.setWidth(F.children().children("table"),z),u=0;u<r.$tbodies.length;u++)if(g=w.eq(u),g.length){for(C=g.children(),_=C.length,v=l.processTbody(H,y.eq(u),!0),v.empty(),m=0;_>m;m++)x=e(C[m].outerHTML),x.children("td, th").slice($).remove(),v.append(x);l.processTbody(H,v,!1)}for(i=l.scroller.hasScrollBar(h)?f:0,(T.isFirefox||T.isOldIE)&&H.css("width",z).parent().css("width",z+i),F.removeClass(o.scrollerHideElement),b=0;$>b;b++)d.children("div").children("table").find("th:nth-child("+(b+1)+"), td:nth-child("+(b+1)+")").addClass(o.scrollerHideColumn);z-=E,t=h.parent().innerWidth()-z,h.width(t),d.children("."+o.scrollerTable).css(p?"right":"left",z),d.children("."+o.scrollerHeader+", ."+o.scrollerFooter).css(p?"right":"left",z+(p&&l.scroller.isSafari?i:0)),a.parent().add(c.parent()).width(t-i),t=l.scroller.hasScrollBar(h,!0),i=t?f:0,!F.find("."+o.scrollerBarSpacer).length&&t?(W=e('<div class="'+o.scrollerBarSpacer+'">').css("height",i+"px"),F.find("."+o.scrollerTable).append(W)):t||F.find("."+o.scrollerBarSpacer).remove(),l.scroller.updateRowHeight(r,s),F.height(d.height()),F.removeClass(o.scrollerHideElement),s.scroller_isBusy=!1}},fixHeight:function(e,r){var l,s,t,i,d,a=o.scrollerAddedHeight,c=e.length;for(l=0;c>l;l++)i=e.eq(l),d=r.eq(l),s=i.height(),t=d.height(),s>t?d.addClass(a).height(s):t>s&&i.addClass(a).height(t)},updateRowHeight:function(e,r){var s,t,i=r.scroller_$fixedColumns;r.scroller_$container.find("."+o.scrollerAddedHeight).removeClass(o.scrollerAddedHeight).height(""),s=r.scroller_$header.children("thead").children("tr"),t=i.children("."+o.scrollerHeader).children("table").children("thead").children("tr"),l.scroller.fixHeight(s,t),s=r.scroller_$footer.children("tfoot").children("tr"),t=i.children("."+o.scrollerFooter).children("table").children("tfoot").children("tr"),l.scroller.fixHeight(s,t),(l.scroller.isFirefox||l.scroller.isOldIE)&&(i=i.find("."+o.scrollerHack)),s=e.$table.children("tbody").children("tr"),t=i.children("."+o.scrollerTable).children("table").children("tbody").children("tr"),l.scroller.fixHeight(s,t)},removeFixed:function(e,r,l){var s=e.$table,t=r.scroller_$container,i=s.hasClass(o.scrollerRtl);(l||"undefined"==typeof l)&&t.find("."+o.scrollerFixed).remove(),t.find("."+o.scrollerHideColumn).removeClass(o.scrollerHideColumn),t.children(":not(."+o.scrollerFixed+")").css(i?"right":"left",0)},remove:function(l,s){var t=s.scroller_$container,i=l.namespace+"tsscroller";l.$table.off(i),e(r).off(i),t&&(l.$table.insertBefore(t).find("thead").removeClass(o.scrollerHideElement).children("tr."+o.headerRow).children().attr("tabindex",0).end().find("."+o.filterRow).removeClass(o.scrollerHideElement+" "+o.filterRowHide),l.$table.find("."+o.filter).not("."+o.filterDisabled).prop("disabled",!1),t.remove(),l.isScrolling=!1)}}}(jQuery,window);
